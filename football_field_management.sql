-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Dec 19, 2025 at 05:47 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `football_field_management`
--

-- --------------------------------------------------------

--
-- Table structure for table `admins`
--

CREATE TABLE `admins` (
  `id` int(11) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(255) NOT NULL,
  `name` varchar(100) NOT NULL,
  `role` enum('super_admin','admin','manager') DEFAULT 'admin',
  `permissions` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`permissions`)),
  `is_active` tinyint(1) DEFAULT 1,
  `last_login` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `admins`
--

INSERT INTO `admins` (`id`, `email`, `password`, `name`, `role`, `permissions`, `is_active`, `last_login`, `created_at`, `updated_at`) VALUES
(1, 'nguyenthanhtam10062004@gmail.com', 'Tamdit1006', 'Super Admin', 'super_admin', '[\"all\"]', 1, '2025-12-15 14:23:14', '2025-08-12 14:31:56', '2025-12-15 14:23:14'),
(2, 'admin@footballfield.com', 'admin', 'Manager', 'admin', '[\"bookings\", \"fields\", \"users\", \"inventory\", \"reports\"]', 1, '2025-12-04 09:55:38', '2025-08-12 14:31:56', '2025-12-04 09:55:38');

-- --------------------------------------------------------

--
-- Table structure for table `admin_sessions`
--

CREATE TABLE `admin_sessions` (
  `id` int(11) NOT NULL,
  `admin_id` int(11) NOT NULL,
  `session_token` varchar(255) NOT NULL,
  `expires_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `admin_sessions`
--

INSERT INTO `admin_sessions` (`id`, `admin_id`, `session_token`, `expires_at`, `is_active`, `created_at`) VALUES
(1, 1, 'ac7cc1f5bafa14db610defdd2f5f43168161aaaac7cfcbd249dd605af73fab45', '2025-08-12 15:56:29', 0, '2025-08-12 15:12:47'),
(2, 1, 'f6768d5b3e38f6adb01a0872627af42c67c48689cd0d34707d71d6da73c70fe9', '2025-08-13 15:56:49', 1, '2025-08-12 15:56:49'),
(3, 1, '6e284bcc48eec82386bd2faccd789c74628906ce60b0dc837060229bf281962f', '2025-08-13 16:20:03', 0, '2025-08-13 16:16:42'),
(4, 1, 'a34457b248efd972d0bbdba801d178550cff55c9798b9d2580119ad26e4f6cd4', '2025-08-14 16:20:08', 1, '2025-08-13 16:20:08'),
(5, 1, 'c8ac3beec328aea0124479ae76fb6bc65d7d090d89491550f4657b217c0d49f8', '2025-08-15 14:01:17', 1, '2025-08-14 14:01:17'),
(6, 1, '32b1df386db0027af613d32d488b3d7e33ae47821c1fab12354b2e19791a8c55', '2025-08-15 14:19:12', 1, '2025-08-14 14:19:12'),
(7, 1, '8b3d2d3a0273222ed4d7f4e49376353683817bdd619e9c7407686140f27ea315', '2025-08-15 14:20:05', 1, '2025-08-14 14:20:05'),
(8, 1, 'ad4f99a567ff23c7320f7e13749bb2d479cce592cf33d77cfe9baf5abca75842', '2025-08-15 14:21:04', 1, '2025-08-14 14:21:04'),
(9, 1, '8841a3b044c3175ed3997b75de079bb924e8f6e5f35655ac13ae4114e5b863b8', '2025-08-16 14:38:10', 1, '2025-08-15 14:38:10'),
(10, 1, 'a7431310dec086a3a49b3d3e13de13d789ff6560621340449e834099d0490700', '2025-08-17 15:53:00', 1, '2025-08-16 15:53:00'),
(11, 1, '95020f6dd72d4e4be8a6fff8a9105cf4d872459cfb590acc07cd0196296e498b', '2025-08-17 17:12:16', 1, '2025-08-16 17:12:16'),
(12, 1, '9e39c9533c7557e5b4e4aa7b06a42edcd9fc167eec9e93e04a241873fc57ced8', '2025-08-17 17:24:35', 1, '2025-08-16 17:24:35'),
(13, 1, '3ef886185a802c1a9ac88ef4b1234df9ed16e3eff6d06a4a06b12896ccd00415', '2025-08-18 01:42:29', 1, '2025-08-17 01:42:29'),
(14, 1, 'a4375476e95ca62dcd99565904c31949bbeeb599a4cb4d170cb8aafbe709ca1f', '2025-08-17 03:35:18', 0, '2025-08-17 03:35:02'),
(15, 1, '35d0f6bf760596ecbefee36d1edd8e9051d3eb4c64236e0c5b1c7eff0f6b150f', '2025-08-17 03:36:13', 0, '2025-08-17 03:36:08'),
(16, 1, '18a36a7c31ff90d3335cb6e0073584174fb18ed628b4efa6ae223cb789589821', '2025-08-18 04:59:35', 1, '2025-08-17 04:59:35'),
(17, 1, 'f53480f23765792aef24c224f1e8c97748a58ca7691637700a3b0919be214a22', '2025-08-17 08:54:20', 0, '2025-08-17 08:28:49'),
(18, 1, '091fc7dc81e4cf1c1761031814e923aeafed360af03d2337ebf74146e01da13e', '2025-08-21 14:37:29', 1, '2025-08-20 14:37:29'),
(19, 1, 'cf9a3e73524b77e4a6ba6cc3be40564fcc6f70e3801f1fdb7c7846ccc04adaeb', '2025-08-21 15:13:26', 1, '2025-08-20 15:13:26'),
(20, 1, 'dc94c6d99d0630f5461c78c6220e46bc59e30ed01cf5525835573672abbb62da', '2025-08-21 15:13:46', 1, '2025-08-20 15:13:46'),
(21, 1, 'cc5c1088810395a0e989b57460ab83629e9b60adbd298779cb6ac4750c59f14e', '2025-08-20 15:50:52', 0, '2025-08-20 15:50:37'),
(22, 1, '8111964c4737e2bf341f44aeaa90a4c5ed88bf166499e00691c110993b0c673c', '2025-08-20 15:59:27', 0, '2025-08-20 15:56:43'),
(23, 1, '0e5d402a4682bc0cf7130678e476bc5dcc456e9f4fabf38452a220d85038393b', '2025-08-23 08:29:40', 1, '2025-08-22 08:29:40'),
(24, 1, '1d4a55acbf75ce66be83fa625bae4aa9d635dfb33f9e31facefd6ba38d358975', '2025-09-06 14:42:46', 0, '2025-09-06 14:39:45'),
(25, 1, '4cb418621048fa9d15bb73fc4e771a429550dba4a1f6dffd544137b9d82e400d', '2025-09-06 14:46:20', 0, '2025-09-06 14:46:10'),
(26, 1, 'f692503ce64865e7de676f3097093260f092de9e6192a46b995c9011841bf655', '2025-09-07 14:48:39', 1, '2025-09-06 14:48:39'),
(27, 1, '6286bac541317a0bf89ee076a542d406f7302cb2bcb0a84956a20ba66b465ab5', '2025-09-07 13:52:49', 0, '2025-09-07 13:52:36'),
(28, 1, '253dd01eb63facae3c0e15f8bf706bdabdd0a2e105d5aaf32a32e1aae4f1e944', '2025-09-07 14:17:28', 0, '2025-09-07 14:16:57'),
(29, 1, '96dd7b38321fa05d426ae301839f75787c507805fa7b71ad92f76bee4d7e01e9', '2025-09-09 11:38:15', 1, '2025-09-08 11:38:15'),
(30, 1, '5fcdfd6fac3e23c3162446f05547045d2abe80de9e17a842122ea9529f64889c', '2025-09-12 04:44:58', 1, '2025-09-11 04:44:58'),
(31, 1, '323c034ac40c7d4b705ab13c961d7cda172a502ac50b5dc0bfe45ca72b8b5066', '2025-09-11 05:40:23', 0, '2025-09-11 05:34:59'),
(32, 1, 'a3138a923e3e3b7f4c80b1e6873ba2bd43b0a24d6df545228141826db8e608f9', '2025-09-13 03:25:04', 0, '2025-09-13 03:25:00'),
(33, 1, '5ba7cb90e9285b424144abb83d46d12a533e8dc747ca2781aefcd7086cb9a542', '2025-09-19 07:00:23', 1, '2025-09-18 07:00:23'),
(34, 1, 'bf1e4239596040eead2b2dcc51ef0686a139749900d0796ada717db26ee51c56', '2025-09-20 04:07:43', 1, '2025-09-19 04:07:43'),
(35, 2, '74db9744c014c5a67a0ff527a72f02c818e26bae64ff00f2ec2aa832a58dce46', '2025-09-25 05:22:28', 1, '2025-09-24 05:22:28'),
(36, 2, '3f882046669004fac62f38a35488f7331b4b8d95c60789aabdd14a4856e555ae', '2025-09-26 06:40:24', 0, '2025-09-26 06:34:14'),
(37, 1, '81b23654631ed867d7083335063ced3a426bd6db9e59bd59efb863b63ac07ce4', '2025-09-28 07:08:00', 1, '2025-09-27 07:08:00'),
(38, 2, 'a9aff7040a794350dc838c0770c02533e8db74720df2c3ee17e1c3cb3476f72c', '2025-09-28 07:18:04', 1, '2025-09-27 07:18:04'),
(39, 2, 'f678ad314ca9bd5ab126ee9a09474b5d8eb734838c4f20b5939731647b0a3900', '2025-09-29 13:36:09', 1, '2025-09-28 13:36:09'),
(40, 2, 'b9e3109cb687b91b143217e7c407cedd01240faa5e164d229c4f40605fa4a828', '2025-10-08 14:35:50', 1, '2025-10-07 14:35:50'),
(41, 2, '59ee996f637783b6c3d50b16372f61f4dc26979375476db09909754c1cb6f6d9', '2025-10-19 14:01:00', 1, '2025-10-18 14:01:00'),
(42, 2, '54b34047276579f22eafc3d462e52825c01dab6ce9706f81b5413e0093f10847', '2025-10-20 03:45:39', 1, '2025-10-19 03:45:39'),
(43, 2, '03e7dab5507d8b8f7975637982d870372b03204a127c45b8b332e3f4c22d4799', '2025-10-20 09:38:27', 1, '2025-10-19 09:38:27'),
(44, 2, 'e7100c75feffcd650a5b77f4a6e050badc7ef8f7a6cb6a74a882acc958e3c997', '2025-10-21 04:44:21', 1, '2025-10-20 04:44:21'),
(45, 2, '43bdbfc31d6e86da0d494c480c6c1f02a9acc38af1fa03433e5d5798386afab4', '2025-10-22 03:20:50', 1, '2025-10-21 03:20:50'),
(46, 2, '226b29e3e7c4ecd636f6cd3ad4ce71de9ff890305df4389252738cb2ee98d803', '2025-10-29 03:37:33', 1, '2025-10-28 03:37:33'),
(47, 1, '4668c84bb8ce3d4634e92dc16cb837d5c6ef9e27de07ff820d124f34bb186c6f', '2025-10-28 05:37:59', 0, '2025-10-28 04:09:25'),
(48, 1, '7b3ffc97ab9dfba4cb1a3a3cd9083f48d8b092a40ccf2f85f799df487a512dcb', '2025-10-28 06:01:56', 0, '2025-10-28 05:54:50'),
(49, 1, 'df7132574a6a77c1513768a3aae0538f00fd5497ce9da419e12ab84533d35ab9', '2025-10-28 07:37:17', 0, '2025-10-28 06:02:45'),
(50, 1, '53efc8b1748f39e1998996321c6bc04138ee063aaaf13f2fe74c1ec03e4eccbf', '2025-10-29 07:43:31', 1, '2025-10-28 07:43:31'),
(51, 1, '61bb448f88a509847b73b2ace3d804d951a409a019d847b58848847b3bebc748', '2025-11-12 05:47:18', 0, '2025-11-12 05:46:51'),
(52, 1, '0f456013c64cc98260573816a0a3040cd66218e924b5b0c3005800e63c0f81e9', '2025-11-13 07:05:24', 1, '2025-11-12 07:05:24'),
(53, 1, '894ae3a3702d7a45e1abf77e63ae2cbfec6799ffa36b75688321f3daba74a145', '2025-11-17 04:22:10', 0, '2025-11-17 04:22:00'),
(54, 1, '64dfd0f335ad7d25e38be1d867b365e978a49ee2075a4c3db7b27e142eab1830', '2025-11-17 16:42:57', 0, '2025-11-17 16:42:45'),
(55, 1, 'c1a209e3bf5a9545ca58b51d1f5b348bb0f92b720e0612522b34316be92ff1eb', '2025-11-17 16:43:18', 0, '2025-11-17 16:43:05'),
(56, 1, 'e0a6900e1c5da5e5f2d2d0c7d5b88b9e1ada37b41083b8473f95cfcc8259eb51', '2025-11-18 16:43:26', 1, '2025-11-17 16:43:26'),
(57, 2, '146d1f5474270a669f42cacbc6b947f0b36f672a86805c2816db18e5414f390d', '2025-11-19 07:36:45', 1, '2025-11-18 07:36:45'),
(58, 1, '95bb1ac7aa14df52a4b75fba1dc9563688885c7b87eaaf162eaaa81cb5750cb8', '2025-11-21 09:16:08', 1, '2025-11-20 09:16:08'),
(59, 1, '1ff3ee7861f714d6cf8ef5648d884c6f9b94d0ab4ea6a7b73a826aa67b4af6e7', '2025-11-26 14:09:31', 1, '2025-11-25 14:09:31'),
(60, 1, '7253cb5a874aacf0f22f28b5380424ca7a9c5b45d7c206c87844a2151ba33241', '2025-11-26 06:32:29', 0, '2025-11-26 03:52:47'),
(61, 1, '00aba84e80c59f22e7cac1751a9447e5f03941f7c3ad397967a6e3b16febd2e3', '2025-11-27 06:33:21', 1, '2025-11-26 06:33:21'),
(62, 1, '206472653d5eeb75a23e5b1971836f84295e38f2304f726666ab665f9d8c3430', '2025-11-27 09:43:28', 0, '2025-11-27 09:19:47'),
(63, 1, '969eb7d1148935d16b100d80fd6e93cfaad8a8f2f1f14fd838195e8db7f094d9', '2025-11-27 10:00:02', 0, '2025-11-27 09:59:43'),
(64, 1, '1e3a5107a0f506c5104f93b9660802fea39d1a974d67e69a3d4bbbddf11d7c62', '2025-11-27 10:04:34', 0, '2025-11-27 10:04:23'),
(65, 1, '4a515ef55966fcd645efd2ee4fd764956f9fdfa1634eb92f48dfb64d0b021502', '2025-11-27 10:04:48', 0, '2025-11-27 10:04:39'),
(66, 1, 'ea8d0b9f34795549f1e2f87e9586ce0297db8710e7c31c15b98fb300497633dd', '2025-11-28 10:04:56', 1, '2025-11-27 10:04:56'),
(67, 1, 'f6ee69f18fb59084c7ddfa68856a5f264f46fedcff279b73b107133049af2b1e', '2025-11-28 06:48:12', 0, '2025-11-28 04:47:03'),
(68, 1, '6d1ef9863f9f70ad18f056b7958cf5ee23bd3ae7673354dd8a9d5e95b5ea4507', '2025-11-28 06:59:56', 0, '2025-11-28 06:59:39'),
(69, 1, '95d0673e9a12cf417dae1003cb90e3e44a35d64078a1e613f5e0b3217e79a634', '2025-11-28 07:13:07', 0, '2025-11-28 07:00:25'),
(70, 1, 'a9aeef580bdf1102a51183bea2cd9df9dcab795d7e009fddf16a85dc1ea14901', '2025-11-28 07:39:46', 0, '2025-11-28 07:33:10'),
(71, 1, 'fb39a09bdb5adc1d9a90661ad8336599b36b4d581b763809df5a6b6d3c02d2c6', '2025-11-28 07:41:16', 0, '2025-11-28 07:41:11'),
(72, 1, '5569be08106f2ced1ab79b944f272d122e58fd9885bd2166c7f5573eed386584', '2025-11-29 08:02:33', 1, '2025-11-28 08:02:33'),
(73, 1, 'ca9ec6c7dfb8db4e896a584358016a6fee0a29b4e352725307e2ca033c8f52bf', '2025-11-28 08:14:16', 0, '2025-11-28 08:11:12'),
(74, 1, '82639f1b0b14bf2e065289ca1e6f61701333b5c4697ab2d002b94ec999a19146', '2025-12-04 06:18:53', 0, '2025-12-04 06:08:25'),
(75, 2, '6cbb5802f1b4ecb61cee689422786e793be3e6e1808ac1f2d9ab5b72cda2b187', '2025-12-04 06:21:10', 0, '2025-12-04 06:18:58'),
(76, 2, '4ed2a4ebf74cc66bdcbdb5d91fcdf71305e9b03a219b197ea8f673be456114b4', '2025-12-04 09:55:51', 0, '2025-12-04 09:55:38'),
(77, 1, '6105cc92182351a7bc51d5764a19ad988df659062f9f56ee52ac6744e54cdd2d', '2025-12-04 10:21:22', 0, '2025-12-04 10:21:10'),
(78, 1, '61c7fc06e051d723a4dc19c75e2e93b83023bffebf55768ddff935699e1944fb', '2025-12-05 10:47:16', 1, '2025-12-04 10:47:16'),
(79, 1, 'c571ba032e5e3c394fb849d4378cb9bcaae853d1ac998fa6d3c90890bfa2cce6', '2025-12-06 14:08:38', 0, '2025-12-06 14:08:02'),
(80, 1, '21e65484f5702c3d2bc03595c78b62327c0d5dde08aa764a884ef21042d00541', '2025-12-15 14:21:59', 0, '2025-12-15 14:20:29'),
(81, 1, '2117e779580627491022904c7ca7ba6fef49cde77b1eb1052ea8ea263596b335', '2025-12-16 14:23:14', 1, '2025-12-15 14:23:14');

-- --------------------------------------------------------

--
-- Table structure for table `bookings`
--

CREATE TABLE `bookings` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `field_id` int(11) NOT NULL,
  `booking_date` date NOT NULL,
  `time_slot_id` int(11) NOT NULL,
  `status` enum('pending','approved','cancelled','completed') DEFAULT 'pending',
  `total_amount` decimal(10,2) NOT NULL,
  `payment_method` enum('cash','online') DEFAULT 'cash',
  `payment_status` enum('pending','paid','refunded') DEFAULT 'pending',
  `notes` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `start_time` time NOT NULL DEFAULT '00:00:00',
  `end_time` time NOT NULL DEFAULT '00:00:00'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `bookings`
--

INSERT INTO `bookings` (`id`, `user_id`, `field_id`, `booking_date`, `time_slot_id`, `status`, `total_amount`, `payment_method`, `payment_status`, `notes`, `created_at`, `updated_at`, `start_time`, `end_time`) VALUES
(1, 1, 1, '2025-06-30', 5, 'pending', 200000.00, 'cash', 'pending', NULL, '2025-06-30 15:19:43', '2025-06-30 15:19:43', '00:00:00', '00:00:00'),
(2, 1, 3, '2025-07-20', 1, 'completed', 200000.00, 'cash', 'pending', NULL, '2025-07-20 06:57:17', '2025-07-20 06:57:17', '00:00:00', '00:00:00'),
(3, 1, 1, '2025-07-26', 0, 'completed', 200000.00, 'cash', 'pending', 'nhận sân sớm ', '2025-07-26 04:37:09', '2025-07-26 05:12:32', '06:00:00', '07:30:00'),
(5, 1, 3, '2025-08-09', 0, 'approved', 350000.00, 'cash', 'pending', 'giao sân nhanh nhanh giúp bố', '2025-08-09 03:22:26', '2025-08-09 03:54:29', '20:00:00', '21:30:00'),
(6, 1, 1, '2025-08-09', 0, 'completed', 200000.00, 'cash', 'pending', NULL, '2025-08-09 03:54:57', '2025-08-09 03:55:15', '06:00:00', '07:30:00'),
(7, 1, 2, '2025-08-13', 0, 'completed', 250000.00, 'cash', 'pending', NULL, '2025-08-12 16:02:32', '2025-08-13 14:22:57', '20:00:00', '21:30:00'),
(8, 13, 4, '2025-08-14', 0, 'approved', 1000000.00, 'cash', 'pending', '', '2025-08-13 14:20:20', '2025-08-13 14:20:20', '19:00:00', '21:00:00'),
(9, 1, 3, '2025-08-14', 0, 'pending', 350000.00, 'cash', 'pending', NULL, '2025-08-13 14:21:50', '2025-08-13 14:21:50', '21:00:00', '22:00:00'),
(11, 1, 5, '2025-08-15', 0, 'completed', 500000.00, 'cash', 'pending', NULL, '2025-08-15 02:58:13', '2025-08-16 02:26:06', '20:30:00', '22:00:00'),
(12, 13, 1, '2025-08-18', 0, 'cancelled', 200000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-08-17 08:13:21', '2025-11-28 04:45:42', '13:30:00', '14:30:00'),
(13, 13, 2, '2025-08-18', 0, 'approved', 200000.00, 'cash', 'pending', '', '2025-08-17 08:13:41', '2025-08-17 08:30:32', '13:30:00', '14:30:00'),
(14, 24, 1, '2025-08-21', 0, 'approved', 400000.00, 'cash', 'pending', '', '2025-08-20 14:45:59', '2025-08-20 14:45:59', '15:00:00', '17:00:00'),
(18, 13, 3, '2025-08-21', 0, 'approved', 450000.00, 'cash', 'pending', '', '2025-08-20 15:50:22', '2025-10-19 04:54:30', '06:00:00', '07:30:00'),
(20, 13, 2, '2025-08-21', 0, 'completed', 500000.00, 'cash', 'pending', '', '2025-08-20 15:55:10', '2025-09-27 07:27:31', '18:00:00', '20:00:00'),
(21, 13, 2, '2025-09-26', 0, 'completed', 250000.00, 'cash', 'pending', '', '2025-09-26 06:15:30', '2025-09-27 07:27:31', '20:00:00', '21:00:00'),
(22, 13, 3, '2025-09-28', 0, 'approved', 600000.00, 'cash', 'pending', '', '2025-09-27 04:02:19', '2025-09-27 07:18:14', '10:00:00', '12:00:00'),
(23, 13, 1, '2025-09-28', 0, 'cancelled', 300000.00, 'cash', 'pending', '', '2025-09-27 07:31:44', '2025-09-27 07:32:26', '08:00:00', '09:30:00'),
(24, 13, 5, '2025-09-29', 0, 'cancelled', 500000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-09-28 06:38:59', '2025-09-28 06:45:55', '09:30:00', '12:00:00'),
(27, 13, 5, '2025-09-28', 0, 'completed', 200000.00, 'cash', 'pending', '', '2025-09-28 06:48:39', '2025-09-28 13:37:07', '17:00:00', '18:00:00'),
(28, 13, 5, '2025-09-30', 0, 'completed', 300000.00, 'cash', 'pending', '', '2025-09-28 07:04:00', '2025-10-19 05:30:02', '06:00:00', '07:30:00'),
(31, 13, 3, '2025-09-30', 0, 'completed', 450000.00, 'cash', 'pending', '', '2025-09-28 06:56:28', '2025-10-07 14:48:13', '06:00:00', '07:30:00'),
(32, 13, 2, '2025-09-29', 0, 'completed', 500000.00, 'cash', 'pending', '', '2025-09-28 07:03:10', '2025-10-07 14:48:13', '09:30:00', '12:00:00'),
(37, 13, 1, '2025-10-18', 0, 'approved', 375000.00, 'cash', 'pending', '', '2025-10-18 12:14:59', '2025-10-18 14:03:10', '19:00:00', '20:30:00'),
(38, 24, 1, '2025-10-21', 0, 'completed', 200000.00, 'cash', 'pending', '', '2025-10-20 07:42:59', '2025-10-21 03:21:29', '10:00:00', '11:00:00'),
(48, 13, 3, '2025-11-14', 0, 'approved', 600000.00, 'cash', 'pending', '', '2025-11-12 08:11:55', '2025-11-12 08:11:55', '19:00:00', '21:00:00'),
(49, 35, 4, '2025-12-19', 0, 'cancelled', 600000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-11-12 08:37:39', '2025-11-17 07:00:51', '06:00:00', '07:30:00'),
(50, 13, 2, '2025-11-17', 0, 'completed', 400000.00, 'cash', 'pending', '', '2025-11-17 04:34:30', '2025-11-17 16:43:45', '12:00:00', '14:00:00'),
(51, 13, 3, '2025-11-17', 0, 'completed', 600000.00, 'cash', 'pending', '', '2025-11-17 04:35:54', '2025-11-17 16:44:14', '12:00:00', '14:00:00'),
(52, 13, 5, '2025-11-17', 0, 'completed', 400000.00, 'cash', 'pending', '', '2025-11-17 04:36:41', '2025-11-17 16:44:09', '12:00:00', '14:00:00'),
(53, 13, 2, '2025-11-29', 0, 'completed', 300000.00, 'cash', 'pending', '', '2025-11-17 04:50:01', '2025-11-17 16:44:06', '14:00:00', '15:30:00'),
(58, 35, 2, '2025-11-22', 0, 'cancelled', 300000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-11-17 06:59:54', '2025-11-17 07:19:37', '06:30:00', '08:00:00'),
(59, 35, 2, '2025-11-18', 0, 'completed', 300000.00, 'cash', 'pending', '', '2025-11-17 07:01:41', '2025-11-20 09:20:06', '06:30:00', '08:00:00'),
(60, 35, 2, '2025-12-10', 0, 'approved', 400000.00, 'cash', 'pending', '', '2025-11-25 14:11:03', '2025-11-25 14:11:03', '15:00:00', '17:00:00'),
(62, 35, 2, '2025-11-25', 0, 'completed', 500000.00, 'cash', 'pending', '', '2025-11-26 06:42:42', '2025-11-26 07:13:03', '18:00:00', '20:00:00'),
(63, 35, 3, '2025-12-10', 0, 'approved', 600000.00, 'cash', 'pending', '', '2025-11-26 07:18:03', '2025-11-27 09:22:12', '13:00:00', '15:00:00'),
(64, 13, 4, '2025-12-25', 0, 'cancelled', 800000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-11-27 08:38:13', '2025-11-27 09:03:07', '14:00:00', '16:00:00'),
(65, 13, 1, '2025-12-10', 0, 'approved', 375000.00, 'cash', 'pending', '', '2025-11-28 04:43:55', '2025-11-28 08:11:54', '20:00:00', '21:30:00'),
(68, 13, 2, '2025-11-28', 0, 'cancelled', 200000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-11-28 08:00:41', '2025-11-28 08:01:05', '16:00:00', '17:00:00'),
(70, 13, 3, '2025-11-28', 0, 'cancelled', 525000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-11-28 08:05:24', '2025-11-28 08:05:43', '18:00:00', '19:30:00'),
(72, 13, 1, '2025-12-15', 0, 'cancelled', 375000.00, 'cash', 'pending', 'Hủy bởi khách hàng', '2025-12-15 13:20:47', '2025-12-15 13:21:23', '20:00:00', '21:30:00'),
(73, 13, 2, '2025-12-15', 0, 'approved', 350000.00, 'cash', 'pending', '', '2025-12-15 14:17:12', '2025-12-15 14:20:39', '21:00:00', '22:30:00');

-- --------------------------------------------------------

--
-- Table structure for table `booking_services`
--

CREATE TABLE `booking_services` (
  `id` int(11) NOT NULL,
  `booking_id` int(11) NOT NULL,
  `service_id` int(11) NOT NULL,
  `quantity` int(11) NOT NULL DEFAULT 1,
  `price` decimal(10,2) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `fields`
--

CREATE TABLE `fields` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `type` enum('5vs5','7vs7','11vs11') NOT NULL,
  `price_per_hour` decimal(10,2) NOT NULL,
  `description` text DEFAULT NULL,
  `images` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`images`)),
  `facilities` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`facilities`)),
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `fields`
--

INSERT INTO `fields` (`id`, `name`, `type`, `price_per_hour`, `description`, `images`, `facilities`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'Sân A1', '5vs5', 200000.00, 'Sân 5 người có đèn chiếu sáng', NULL, '[\"Đèn chiếu sáng\", \"Thảm cỏ nhân tạo\", \"Khung thành mini\"]', 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(2, 'Sân A2', '5vs5', 200000.00, 'Sân 5 người tiêu chuẩn', NULL, '[\"Đèn chiếu sáng\", \"Thảm cỏ nhân tạo\"]', 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(3, 'Sân B1', '7vs7', 300000.00, 'Sân 7 người rộng rãi', NULL, '[\"Đèn chiếu sáng\", \"Thảm cỏ nhân tạo\", \"Phòng thay đồ\"]', 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(4, 'Sân C1', '11vs11', 500000.00, 'Sân 11 người tiêu chuẩn FIFA', NULL, '[\"Đèn chiếu sáng\", \"Cỏ tự nhiên\", \"Phòng thay đồ\", \"Bảng điện tử\"]', 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(5, 'Sân A3', '5vs5', 200000.00, NULL, NULL, NULL, 1, '2025-07-20 10:07:13', '2025-07-26 03:23:42');

-- --------------------------------------------------------

--
-- Table structure for table `maintenance_schedules`
--

CREATE TABLE `maintenance_schedules` (
  `id` int(11) NOT NULL,
  `field_id` int(11) DEFAULT NULL,
  `maintenance_date` date NOT NULL,
  `start_time` time DEFAULT NULL,
  `end_time` time DEFAULT NULL,
  `reason` varchar(255) NOT NULL,
  `description` text DEFAULT NULL,
  `type` enum('regular','holiday','emergency') DEFAULT 'regular',
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `maintenance_schedules`
--

INSERT INTO `maintenance_schedules` (`id`, `field_id`, `maintenance_date`, `start_time`, `end_time`, `reason`, `description`, `type`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 2, '2025-07-03', '14:00:00', '16:00:00', 'Bảo trì hệ thống chiếu sáng', 'Thay đèn LED sân', 'regular', 1, '2025-06-30 16:05:41', '2025-06-30 16:05:41'),
(20, 1, '2025-08-20', '08:00:00', '12:00:00', 'Thay lưới khung thành', 'Lưới khung thành bị rách cần thay mới', 'regular', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(21, 2, '2025-08-25', '06:00:00', '10:00:00', 'Bảo dưỡng cỏ nhân tạo', 'Làm sạch và bảo dưỡng định kỳ cỏ nhân tạo', 'regular', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(22, 3, '2025-08-16', '14:00:00', '18:00:00', 'Sửa chữa đèn chiếu sáng', 'Đèn chiếu sáng bị hỏng cần sửa chữa khẩn cấp', 'emergency', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(23, 4, '2025-08-22', '09:00:00', '11:00:00', 'Vẽ lại vạch sân', 'Vẽ lại các vạch kẻ sân đã mờ', 'regular', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(24, 1, '2025-09-02', '00:00:00', '23:59:59', 'Nghỉ lễ Quốc khánh 2/9', 'Sân nghỉ lễ Quốc khánh. Chúc quý khách nghỉ lễ vui vẻ!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(25, 2, '2025-09-02', '00:00:00', '23:59:59', 'Nghỉ lễ Quốc khánh 2/9', 'Sân nghỉ lễ Quốc khánh. Chúc quý khách nghỉ lễ vui vẻ!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(26, 3, '2025-09-02', '00:00:00', '23:59:59', 'Nghỉ lễ Quốc khánh 2/9', 'Sân nghỉ lễ Quốc khánh. Chúc quý khách nghỉ lễ vui vẻ!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(27, 4, '2025-09-02', '00:00:00', '23:59:59', 'Nghỉ lễ Quốc khánh 2/9', 'Sân nghỉ lễ Quốc khánh. Chúc quý khách nghỉ lễ vui vẻ!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(28, 5, '2025-09-02', '00:00:00', '23:59:59', 'Nghỉ lễ Quốc khánh 2/9', 'Sân nghỉ lễ Quốc khánh. Chúc quý khách nghỉ lễ vui vẻ!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(29, 1, '2025-12-31', '00:00:00', '23:59:59', 'Nghỉ Tết Dương lịch', 'Sân nghỉ Tết Dương lịch 2025. Chúc quý khách năm mới hạnh phúc!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(30, 2, '2025-12-31', '00:00:00', '23:59:59', 'Nghỉ Tết Dương lịch', 'Sân nghỉ Tết Dương lịch 2025. Chúc quý khách năm mới hạnh phúc!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(31, 3, '2025-12-31', '00:00:00', '23:59:59', 'Nghỉ Tết Dương lịch', 'Sân nghỉ Tết Dương lịch 2025. Chúc quý khách năm mới hạnh phúc!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(32, 4, '2025-12-31', '00:00:00', '23:59:59', 'Nghỉ Tết Dương lịch', 'Sân nghỉ Tết Dương lịch 2025. Chúc quý khách năm mới hạnh phúc!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51'),
(33, 5, '2025-12-31', '00:00:00', '23:59:59', 'Nghỉ Tết Dương lịch', 'Sân nghỉ Tết Dương lịch 2025. Chúc quý khách năm mới hạnh phúc!', 'holiday', 1, '2025-08-14 15:12:51', '2025-08-14 15:12:51');

-- --------------------------------------------------------

--
-- Table structure for table `matches`
--

CREATE TABLE `matches` (
  `id` int(11) NOT NULL,
  `creator_id` int(11) NOT NULL,
  `field_id` int(11) NOT NULL,
  `field_type` enum('5vs5','7vs7','11vs11') DEFAULT NULL,
  `match_date` date NOT NULL,
  `start_time` time NOT NULL DEFAULT '00:00:00',
  `end_time` time NOT NULL DEFAULT '00:00:00',
  `current_players` int(11) DEFAULT 1,
  `max_players` int(11) NOT NULL,
  `level` enum('beginner','intermediate','advanced') DEFAULT 'intermediate',
  `age_min` int(11) DEFAULT NULL,
  `age_max` int(11) DEFAULT NULL,
  `price_per_person` decimal(10,2) NOT NULL,
  `description` text DEFAULT NULL,
  `contact_name` varchar(100) DEFAULT NULL,
  `contact_phone` varchar(15) DEFAULT NULL,
  `allow_join` tinyint(1) DEFAULT 1,
  `status` enum('open','full','closed','completed') DEFAULT 'open',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `matches`
--

INSERT INTO `matches` (`id`, `creator_id`, `field_id`, `field_type`, `match_date`, `start_time`, `end_time`, `current_players`, `max_players`, `level`, `age_min`, `age_max`, `price_per_person`, `description`, `contact_name`, `contact_phone`, `allow_join`, `status`, `created_at`, `updated_at`) VALUES
(1, 1, 2, NULL, '2025-07-02', '00:00:00', '00:00:00', 1, 10, 'intermediate', NULL, NULL, 20000.00, 'Giao lưu nhẹ', 'Trâm Anh', '0123456789', 1, 'open', '2025-06-30 15:39:05', '2025-06-30 15:39:05'),
(12, 23, 1, '5vs5', '2025-08-09', '20:00:00', '21:30:00', 1, 0, 'intermediate', 18, 30, 20000.00, '', 'Nhật', '0369706275', 1, 'open', '2025-08-09 03:26:10', '2025-08-09 03:26:10'),
(13, 13, 1, '7vs7', '2025-08-18', '20:00:00', '21:30:00', 1, 0, 'beginner', 18, 30, 20000.00, 'vui vẻ', 'Nhật', '0369706275', 1, 'open', '2025-08-15 02:54:03', '2025-08-15 02:54:03'),
(14, 13, 1, '5vs5', '2025-08-18', '06:00:00', '07:30:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-16 16:27:50', '2025-08-16 16:27:50'),
(15, 13, 1, '5vs5', '2025-08-18', '06:00:00', '07:30:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-16 16:27:59', '2025-08-16 16:27:59'),
(16, 13, 1, '5vs5', '2025-08-18', '06:00:00', '07:30:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-16 16:29:18', '2025-08-16 16:29:18'),
(17, 13, 1, '7vs7', '2025-08-19', '20:00:00', '21:30:00', 1, 0, '', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-16 16:45:45', '2025-08-16 16:45:45'),
(18, 13, 1, '5vs5', '2025-08-17', '06:00:00', '07:00:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-17 08:11:55', '2025-08-17 08:11:55'),
(19, 13, 1, '5vs5', '2025-08-18', '12:00:00', '13:30:00', 1, 0, '', 18, 30, 20000.00, 'giao lưu vui vẻ', 'Tam', '0123456788', 0, 'open', '2025-08-17 08:19:05', '2025-08-17 08:19:05'),
(20, 13, 1, '5vs5', '2025-08-25', '06:30:00', '08:30:00', 1, 0, 'advanced', 18, 30, 0.00, '', 'Tam', '0123456788', 0, 'open', '2025-08-20 14:27:59', '2025-08-20 14:27:59'),
(21, 13, 1, '7vs7', '2025-08-20', '06:30:00', '08:00:00', 1, 0, '', 18, 30, 0.00, '', 'Tam', '0868713558', 1, 'open', '2025-08-20 15:31:45', '2025-08-20 15:31:45'),
(22, 13, 1, '7vs7', '2025-08-20', '06:00:00', '07:30:00', 1, 0, 'beginner', 18, 30, 0.00, '', 'Tam', '0123456788', 1, 'closed', '2025-08-20 15:55:34', '2025-12-04 12:44:38'),
(24, 13, 1, '5vs5', '2025-09-30', '06:00:00', '07:30:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Thanh Tam', '0385868251', 1, 'completed', '2025-09-20 14:47:59', '2025-09-29 04:06:02'),
(25, 13, 1, '7vs7', '2025-10-27', '06:00:00', '07:00:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Thanh Tam', '0385868251', 1, 'closed', '2025-09-28 13:07:35', '2025-11-28 07:08:12'),
(26, 13, 1, '7vs7', '2025-10-31', '19:00:00', '20:30:00', 1, 10, '', 18, 30, 0.00, '', 'Thanh Tam', '0385868251', 1, 'closed', '2025-09-28 13:09:49', '2025-11-28 07:08:12'),
(28, 13, 1, '5vs5', '2025-11-23', '06:30:00', '08:30:00', 1, 0, 'intermediate', 18, 30, 0.00, '', 'Thanh Tam', '0385868251', 1, 'closed', '2025-11-17 10:41:25', '2025-11-28 07:08:12'),
(29, 35, 1, '5vs5', '2025-12-15', '06:00:00', '07:30:00', 1, 0, 'advanced', 18, 30, 0.00, 'Giao lưu mồ hôi ', 'Tam Thanh', '0979993920', 1, 'open', '2025-11-20 09:23:04', '2025-11-20 09:23:04'),
(30, 35, 1, '7vs7', '2026-01-14', '06:00:00', '07:30:00', 1, 0, 'advanced', 18, 30, 0.00, 'Giao lưu vui vẻ, nhẹ nhàng', 'Tam Thanh', '0868713558', 1, 'open', '2025-11-26 03:56:59', '2025-11-26 04:06:45'),
(31, 35, 1, '11vs11', '2026-01-11', '19:00:00', '21:00:00', 1, 0, 'beginner', 18, 30, 0.00, 'Ae mới tập chơi sân 11 nên mồ hôi thôi\n', 'Anh Long', '0934186296', 1, 'open', '2025-11-26 03:58:24', '2025-11-26 03:58:24'),
(32, 13, 1, '7vs7', '2025-12-21', '06:30:00', '08:00:00', 1, 0, 'advanced', 18, 30, 0.00, '', 'Thanh Tam', '0385868251', 1, '', '2025-11-27 09:00:41', '2025-11-27 09:01:17'),
(33, 13, 1, '7vs7', '2025-12-20', '06:00:00', '07:30:00', 1, 0, 'advanced', 18, 30, 0.00, 'giao lưu zui zẻ ae văn phòng', 'Thanh Tam', '0868713558', 1, 'open', '2025-11-27 09:11:46', '2025-11-28 04:46:10');

-- --------------------------------------------------------

--
-- Table structure for table `otps`
--

CREATE TABLE `otps` (
  `email` varchar(255) NOT NULL,
  `otp` varchar(10) NOT NULL,
  `expires_at` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `otps`
--

INSERT INTO `otps` (`email`, `otp`, `expires_at`) VALUES
('2200000922@nttu.edu.vn', '310567', '2025-08-09 10:11:23'),
('nguyenthanhtam10062004@gmail.com', '698187', '2025-08-08 12:23:19'),
('nhat69232@gmail.com', '606667', '2025-08-08 12:25:15'),
('nhat96232@gmail.com', '131579', '2025-08-08 12:24:05'),
('vanducle308@gmail.com', '697826', '2025-08-09 10:25:46');

-- --------------------------------------------------------

--
-- Table structure for table `otp_codes`
--

CREATE TABLE `otp_codes` (
  `id` int(11) NOT NULL,
  `phone_number` varchar(15) NOT NULL,
  `email` varchar(255) DEFAULT NULL,
  `otp_code` varchar(6) NOT NULL,
  `expires_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `is_used` tinyint(1) DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `otp_codes`
--

INSERT INTO `otp_codes` (`id`, `phone_number`, `email`, `otp_code`, `expires_at`, `is_used`, `created_at`) VALUES
(4, '0868713558', NULL, '677590', '2025-06-26 14:36:25', 1, '2025-06-26 14:36:16'),
(5, '0868713558', NULL, '670993', '2025-06-30 16:04:10', 0, '2025-06-30 16:01:10'),
(6, '0868713558', NULL, '598714', '2025-07-25 04:23:53', 1, '2025-07-25 04:23:42'),
(7, '0123467895', NULL, '156650', '2025-07-25 04:27:35', 1, '2025-07-25 04:27:29'),
(8, '0868713558', NULL, '538973', '2025-07-25 04:27:57', 1, '2025-07-25 04:27:50'),
(9, '0868713558', NULL, '511365', '2025-07-25 08:00:18', 1, '2025-07-25 08:00:03'),
(10, '1234567890', NULL, '103666', '2025-07-25 08:06:34', 1, '2025-07-25 08:06:28'),
(11, '0868713558', NULL, '219819', '2025-07-25 08:12:49', 0, '2025-07-25 08:09:49'),
(12, '0868713558', NULL, '579553', '2025-07-25 08:10:02', 1, '2025-07-25 08:09:56'),
(13, '0979993920', NULL, '344054', '2025-07-25 08:12:30', 1, '2025-07-25 08:12:22'),
(14, '0868713558', NULL, '976339', '2025-07-25 14:37:23', 1, '2025-07-25 14:37:14'),
(15, '0979993920', NULL, '477036', '2025-07-25 14:50:42', 1, '2025-07-25 14:50:35'),
(16, '0979993920', NULL, '867787', '2025-07-25 14:53:54', 1, '2025-07-25 14:53:46'),
(17, '0123456789', NULL, '924712', '2025-07-25 15:09:47', 1, '2025-07-25 15:09:39'),
(18, '0868713558', NULL, '523383', '2025-07-25 15:12:24', 1, '2025-07-25 15:12:17'),
(19, '0868713558', NULL, '128501', '2025-07-25 15:17:28', 0, '2025-07-25 15:14:28'),
(20, '0868713558', NULL, '819413', '2025-07-25 15:14:50', 1, '2025-07-25 15:14:44'),
(21, '0868713558', NULL, '518831', '2025-07-26 05:33:42', 1, '2025-07-26 05:33:35'),
(22, '0385868251', NULL, '801461', '2025-07-26 05:34:19', 1, '2025-07-26 05:34:14'),
(23, '0979993920', NULL, '648174', '2025-07-26 05:37:19', 1, '2025-07-26 05:37:13'),
(24, '0385868251', NULL, '524421', '2025-07-26 05:39:18', 1, '2025-07-26 05:39:12'),
(25, '0385868251', NULL, '395670', '2025-07-26 05:39:47', 1, '2025-07-26 05:39:42'),
(26, '0868713558', NULL, '805428', '2025-07-26 05:40:05', 1, '2025-07-26 05:40:01'),
(27, '0385868251', NULL, '766588', '2025-07-26 05:42:44', 1, '2025-07-26 05:42:39'),
(28, '0385868251', NULL, '272453', '2025-07-26 05:44:10', 1, '2025-07-26 05:44:05'),
(29, '0987654321', NULL, '979940', '2025-07-26 05:44:31', 1, '2025-07-26 05:44:27'),
(30, '0385868251', NULL, '836296', '2025-07-26 05:48:42', 1, '2025-07-26 05:48:36'),
(31, '0385868251', NULL, '395620', '2025-07-26 05:55:21', 1, '2025-07-26 05:55:17'),
(32, '0123456789', NULL, '837955', '2025-07-26 10:11:38', 1, '2025-07-26 10:11:30'),
(33, '0123456789', NULL, '648668', '2025-07-26 10:13:10', 1, '2025-07-26 10:13:05'),
(34, '0987654321', NULL, '114603', '2025-07-26 10:14:49', 1, '2025-07-26 10:14:42'),
(35, '012345', NULL, '561887', '2025-07-26 10:20:39', 1, '2025-07-26 10:20:33'),
(36, '123', NULL, '938722', '2025-07-26 10:37:00', 1, '2025-07-26 10:36:54'),
(37, '0979993920', NULL, '564623', '2025-07-26 15:30:54', 1, '2025-07-26 15:28:01'),
(38, '0979993920', NULL, '174342', '2025-07-27 03:55:15', 1, '2025-07-27 03:55:10'),
(39, '0979993920', NULL, '702225', '2025-08-02 02:26:28', 1, '2025-08-02 02:26:22'),
(40, '0979993920', NULL, '644505', '2025-08-08 01:51:32', 1, '2025-08-08 01:51:05'),
(41, '0868713558', NULL, '474051', '2025-08-08 03:02:08', 0, '2025-08-08 02:59:08'),
(42, '2200000922@nttu', NULL, '907701', '2025-08-08 03:02:30', 0, '2025-08-08 02:59:30'),
(43, '2200000922@nttu', NULL, '450704', '2025-08-08 03:26:07', 0, '2025-08-08 03:23:07'),
(44, 'nhat69232@gmail', NULL, '862687', '2025-08-08 03:28:25', 0, '2025-08-08 03:25:25'),
(45, '2200000922@nttu', NULL, '823099', '2025-08-08 03:30:07', 0, '2025-08-08 03:27:07'),
(46, 'nhat69232@gmail', NULL, '581957', '2025-08-08 03:34:10', 0, '2025-08-08 03:31:10'),
(47, '2200000922@nttu', NULL, '294025', '2025-08-08 03:34:44', 0, '2025-08-08 03:31:44'),
(48, '0868713558', NULL, '559257', '2025-08-08 04:14:39', 1, '2025-08-08 04:14:33'),
(49, '', '2200000922@nttu.edu.vn', '677692', '2025-08-10 10:29:16', 0, '2025-08-10 10:24:16'),
(50, '', '2200000922@nttu.edu.vn', '169585', '2025-08-10 10:30:45', 0, '2025-08-10 10:25:45'),
(51, '', 'nguyenthanhtam10062004@gmail.com', '779106', '2025-08-10 10:46:12', 1, '2025-08-10 10:45:57'),
(52, '', '0868713558', '622442', '2025-08-10 10:52:26', 0, '2025-08-10 10:47:26'),
(53, '', '0868713558', '265455', '2025-08-10 10:56:28', 0, '2025-08-10 10:51:28'),
(54, '', '2200000922@nttu.edu.vn', '490670', '2025-08-10 10:51:55', 1, '2025-08-10 10:51:42'),
(55, '', '0868713558', '907356', '2025-08-10 10:57:16', 0, '2025-08-10 10:52:16'),
(56, '', '0868713558', '247086', '2025-08-10 10:57:31', 0, '2025-08-10 10:52:32'),
(57, '', '0868713558', '560330', '2025-08-10 11:02:08', 0, '2025-08-10 10:57:08'),
(58, '', '0868713558', '201411', '2025-08-10 11:06:13', 0, '2025-08-10 11:01:13'),
(59, '', '2200000922@nttu.edu.vn', '832181', '2025-08-10 11:06:22', 0, '2025-08-10 11:01:22'),
(60, '', '12312321421', '459339', '2025-08-10 11:12:18', 0, '2025-08-10 11:07:18'),
(61, '', '12312321421', '198763', '2025-08-10 11:12:44', 0, '2025-08-10 11:07:44'),
(62, '', '0987654321', '759493', '2025-08-10 11:20:13', 0, '2025-08-10 11:15:13'),
(63, '', '2200000922@nttu.edu.vn', '274625', '2025-08-10 11:20:23', 0, '2025-08-10 11:15:23'),
(64, '', 'kjuyggug', '473999', '2025-08-10 11:25:34', 0, '2025-08-10 11:20:34'),
(65, '', 'knfdsn@gmail.com', '845776', '2025-08-10 11:26:05', 0, '2025-08-10 11:21:05'),
(66, '', '2200000922@nttu.edu.vn', '662082', '2025-08-12 16:02:27', 1, '2025-08-12 16:01:54'),
(67, '', '2200000922@nttu.edu.vn', '992834', '2025-08-13 14:21:45', 1, '2025-08-13 14:21:26'),
(68, '', '2200000922@nttu.edu.vn', '161915', '2025-08-15 03:32:30', 1, '2025-08-15 03:32:13'),
(69, '', 'nguyenthanhtam10062004@gmail.com', '613265', '2025-08-15 04:47:24', 1, '2025-08-15 04:47:08'),
(70, '', '2200000922@nttu.edu.vn', '267518', '2025-08-15 04:48:06', 1, '2025-08-15 04:47:51'),
(71, '', '2200000922@nttu.edu.vn', '448039', '2025-08-16 03:26:14', 1, '2025-08-16 03:25:47'),
(72, '', '2200000922@nttu.edu.vn', '255572', '2025-08-16 15:42:26', 0, '2025-08-16 15:37:26'),
(73, '', '2200000922@nttu.edu.vn', '987452', '2025-08-16 15:42:29', 0, '2025-08-16 15:37:29'),
(74, '', '2200000922@nttu.edu.vn', '422373', '2025-08-16 15:42:36', 0, '2025-08-16 15:37:36'),
(75, '0868713558', NULL, '711048', '2025-08-16 15:42:53', 0, '2025-08-16 15:37:53'),
(76, '0868713558', NULL, '811202', '2025-08-16 15:42:56', 0, '2025-08-16 15:37:56'),
(77, '', '2200000922@nttu.edu.vn', '579471', '2025-08-16 15:43:04', 0, '2025-08-16 15:38:04'),
(78, '', '2200000922@nttu.edu.vn', '290096', '2025-08-16 15:45:29', 0, '2025-08-16 15:40:29'),
(79, '', '2200000922@nttu.edu.vn', '140092', '2025-08-16 15:56:44', 0, '2025-08-16 15:51:44'),
(80, '', '2200000922@nttu.edu.vn', '876832', '2025-08-16 15:59:56', 0, '2025-08-16 15:54:56'),
(81, '', '2200000922@nttu.edu.vn', '359942', '2025-08-16 16:00:08', 0, '2025-08-16 15:55:08'),
(82, '', '2200000922@nttu.edu.vn', '186686', '2025-08-16 16:27:32', 1, '2025-08-16 16:27:12'),
(83, '', '2200000922@nttu.edu.vn', '717935', '2025-08-17 04:27:08', 1, '2025-08-17 04:26:49'),
(84, '', '2200000922@nttu.edu.vn', '933115', '2025-08-17 08:07:15', 1, '2025-08-17 08:06:57'),
(85, '', '2200000922@nttu.edu.vn', '896752', '2025-08-17 08:26:14', 1, '2025-08-17 08:25:40'),
(86, '', '2200000922@nttu.edu.vn', '224165', '2025-08-20 14:03:37', 1, '2025-08-20 14:03:03'),
(87, '', '2200000922@nttu.edu.vn', '687889', '2025-08-20 15:31:17', 1, '2025-08-20 15:30:59'),
(88, '', '2200000922@nttu.edu.vn', '984239', '2025-08-20 15:46:31', 0, '2025-08-20 15:41:31'),
(89, '', '2200000922@nttu.edu.vn', '285580', '2025-08-20 15:42:50', 1, '2025-08-20 15:42:34'),
(90, '', '2200000922@nttu.edu.vn', '786134', '2025-08-20 15:48:22', 1, '2025-08-20 15:48:04'),
(91, '', '2200000922@nttu.edu.vn', '966979', '2025-08-20 15:49:49', 1, '2025-08-20 15:49:34'),
(92, '', '2200000922@nttu.edu.vn', '675380', '2025-08-20 15:54:48', 1, '2025-08-20 15:54:32'),
(93, '', '2200000922@nttu.edu.vn', '901152', '2025-09-10 02:54:09', 1, '2025-09-10 02:53:52'),
(94, '', '2200000922@nttu.edu.vn', '887904', '2025-09-11 04:10:03', 1, '2025-09-11 04:09:38'),
(95, '', '2200000922@nttu.edu.vn', '101943', '2025-09-20 13:53:17', 1, '2025-09-20 13:53:00'),
(96, '', '2200000922@nttu.edu.vn', '992432', '2025-09-26 06:15:26', 1, '2025-09-26 06:15:03'),
(97, '', '2200000922@nttu.edu.vn', '996927', '2025-09-27 04:02:01', 1, '2025-09-27 04:01:20'),
(98, '', '2200000922@nttu.edu.vn', '519937', '2025-09-27 07:10:10', 1, '2025-09-27 07:09:51'),
(99, '', '2200000922@nttu.edu.vn', '238052', '2025-10-16 13:47:52', 0, '2025-10-16 13:42:52'),
(100, '', '2200000922@nttu.edu.vn', '261145', '2025-10-16 13:50:39', 0, '2025-10-16 13:45:39'),
(101, '', '2200000922@nttu.edu.vn', '624114', '2025-10-16 14:30:48', 1, '2025-10-16 14:30:32'),
(102, '', '2200000922@nttu.edu.vn', '591350', '2025-10-16 14:42:54', 0, '2025-10-16 14:37:54'),
(103, '', '2200000922@nttu.edu.vn', '576781', '2025-10-16 14:38:48', 1, '2025-10-16 14:38:34'),
(104, '', '2200000922@nttu.edu.vn', '460737', '2025-10-18 03:44:09', 0, '2025-10-18 03:39:10'),
(105, '', '2200000922@nttu.edu.vn', '573280', '2025-10-18 03:52:58', 0, '2025-10-18 03:47:58'),
(106, '', '2200000922@nttu.edu.vn', '204433', '2025-10-18 03:54:01', 0, '2025-10-18 03:49:01'),
(107, '', '2200000922@nttu.edu.vn', '632343', '2025-10-18 04:22:46', 1, '2025-10-18 04:22:35'),
(108, '', '2200000922@nttu.edu.vn', '350556', '2025-10-18 12:14:56', 1, '2025-10-18 12:14:42'),
(109, '', '2200000462@nttu.edu.vn', '818813', '2025-11-12 05:42:42', 1, '2025-11-12 05:42:16'),
(110, '', '2200000922@nttu.edu.vn', '733261', '2025-11-12 05:49:04', 1, '2025-11-12 05:48:30'),
(111, '', '2200000462@nttu.edu.vn', '872486', '2025-11-12 05:49:41', 1, '2025-11-12 05:49:20'),
(112, '', 'nguyenthanhtam10062004@gmail.com', '110200', '2025-11-12 05:50:28', 1, '2025-11-12 05:49:56'),
(113, '', '2200000462@nttu.edu.vn', '650921', '2025-11-12 05:58:36', 0, '2025-11-12 05:53:36'),
(114, '', '2200000462@nttu.edu.vn', '427361', '2025-11-12 05:58:56', 1, '2025-11-12 05:58:32'),
(115, '', 'nguyenthanhtam10062004@gmail.com', '366579', '2025-11-12 06:14:58', 1, '2025-11-12 06:14:33'),
(116, '', 'nguyenthanhtam10062004@gmail.com', '654760', '2025-11-12 06:15:48', 1, '2025-11-12 06:15:33'),
(117, '', 'nguyenthanhtam10062004@gmail.com', '591643', '2025-11-12 06:47:30', 1, '2025-11-12 06:47:10'),
(118, '', 'nguyenthanhtam10062004@gmail.com', '133426', '2025-11-12 07:07:03', 1, '2025-11-12 07:05:40'),
(119, '', '2200000922@nttu.edu.vn', '469953', '2025-11-12 08:22:54', 1, '2025-11-12 08:22:27'),
(120, '', '2200000922@nttu.edu.vn', '621314', '2025-11-12 08:23:31', 1, '2025-11-12 08:23:13'),
(121, '', 'nguyenthanhtam10062004@gmail.com', '492480', '2025-11-12 08:24:25', 1, '2025-11-12 08:23:55'),
(122, '', 'nguyenthanhtam10062004@gmail.com', '550951', '2025-11-17 04:13:36', 1, '2025-11-17 04:13:13'),
(123, '', 'nguyenthanhtam10062004@gmail.com', '406799', '2025-11-17 04:21:38', 1, '2025-11-17 04:21:19'),
(124, '', '2200000922@nttu.edu.vn', '115295', '2025-11-17 04:26:49', 1, '2025-11-17 04:26:08'),
(125, '', 'nguyenthanhtam10062004@gmail.com', '358894', '2025-11-17 04:58:39', 1, '2025-11-17 04:58:16'),
(126, '', 'nguyenthanhtam10062004@gmail.com', '920309', '2025-11-17 10:32:45', 1, '2025-11-17 10:32:05'),
(127, '', '2200000922@nttu.edu.vn', '281440', '2025-11-17 10:33:28', 1, '2025-11-17 10:33:09'),
(128, '', 'nguyenthanhtam10062004@gmail.com', '689297', '2025-11-17 15:29:36', 1, '2025-11-17 15:29:10'),
(129, '', 'nguyenthanhtam10062004@gmail.com', '302891', '2025-11-17 15:32:16', 1, '2025-11-17 15:31:58'),
(130, '', 'nguyenthanhtam10062004@gmail.com', '323816', '2025-11-18 05:21:23', 0, '2025-11-18 05:16:23'),
(131, '', 'nguyenthanhtam10062004@gmail.com', '610209', '2025-11-20 09:15:25', 1, '2025-11-20 09:14:55'),
(132, '', 'nguyenthanhtam10062004@gmail.com', '593145', '2025-11-20 09:19:39', 1, '2025-11-20 09:18:44'),
(133, '', 'nguyenthanhtam10062004@gmail.com', '703086', '2025-11-25 15:09:16', 1, '2025-11-25 15:08:53'),
(134, '', 'nguyenthanhtam10062004@gmail.com', '306907', '2025-11-26 04:48:18', 1, '2025-11-26 04:48:04'),
(135, '', 'nguyenthanhtam10062004@gmail.com', '515187', '2025-11-26 07:17:40', 1, '2025-11-26 07:17:24'),
(136, '', '2200000922@nttu.edu.vn', '737003', '2025-11-27 08:34:57', 1, '2025-11-27 08:34:28'),
(137, '', '2200000922@nttu.edu.vn', '885370', '2025-11-28 04:43:18', 1, '2025-11-28 04:42:59'),
(138, '', '2200000922@nttu.edu.vn', '151410', '2025-11-28 07:54:28', 1, '2025-11-28 07:54:16'),
(139, '', '2200000922@nttu.edu.vn', '290644', '2025-11-28 08:00:33', 1, '2025-11-28 08:00:22'),
(140, '', '2200000922@nttu.edu.vn', '282573', '2025-11-28 08:04:58', 1, '2025-11-28 08:04:48'),
(141, '', '2200000922@nttu.edu.vn', '239655', '2025-11-28 08:09:07', 1, '2025-11-28 08:08:57'),
(142, '', '2200000922@nttu.edu.vn', '778734', '2025-12-06 10:08:58', 0, '2025-12-06 10:03:58'),
(143, '', 'nguyenthanhtam10062004@gmail.com', '822038', '2025-12-06 10:10:10', 0, '2025-12-06 10:05:10'),
(144, '', 'nguyenthanhtam10062004@gmail.com', '493010', '2025-12-06 10:14:05', 0, '2025-12-06 10:09:05'),
(145, '', 'nguyenthanhtam10062004@gmail.com', '387027', '2025-12-06 12:37:27', 1, '2025-12-06 12:35:52'),
(146, '', '2200000922@nttu.edu.vn', '935739', '2025-12-15 00:56:32', 1, '2025-12-15 00:56:17'),
(147, '', '2200000922@nttu.edu.vn', '300649', '2025-12-15 14:16:59', 1, '2025-12-15 14:16:43');

-- --------------------------------------------------------

--
-- Table structure for table `pricing_rules`
--

CREATE TABLE `pricing_rules` (
  `id` int(11) NOT NULL,
  `field_type` enum('5vs5','7vs7','11vs11') NOT NULL,
  `start_hour` tinyint(4) NOT NULL,
  `end_hour` tinyint(4) NOT NULL,
  `price_per_hour` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `pricing_rules`
--

INSERT INTO `pricing_rules` (`id`, `field_type`, `start_hour`, `end_hour`, `price_per_hour`) VALUES
(1, '5vs5', 6, 18, 200000.00),
(2, '7vs7', 6, 18, 300000.00),
(3, '11vs11', 6, 18, 400000.00),
(4, '5vs5', 18, 22, 250000.00),
(5, '7vs7', 18, 22, 350000.00),
(6, '11vs11', 18, 22, 500000.00);

-- --------------------------------------------------------

--
-- Table structure for table `products`
--

CREATE TABLE `products` (
  `id` int(11) NOT NULL,
  `code` varchar(50) NOT NULL,
  `name` varchar(200) NOT NULL,
  `category` enum('soft-drink','energy-drink','water','tea','snack','equipment') NOT NULL,
  `unit` varchar(20) NOT NULL,
  `purchase_price` decimal(10,2) NOT NULL,
  `selling_price` decimal(10,2) NOT NULL,
  `current_stock` int(11) DEFAULT 0,
  `min_stock` int(11) DEFAULT 10,
  `supplier` varchar(200) DEFAULT NULL,
  `description` text DEFAULT NULL,
  `image` varchar(255) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `products`
--

INSERT INTO `products` (`id`, `code`, `name`, `category`, `unit`, `purchase_price`, `selling_price`, `current_stock`, `min_stock`, `supplier`, `description`, `image`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'ST001', 'Sting dâu 330ml', 'energy-drink', '', 0.00, 0.00, 93, 50, NULL, 'Nước tăng lực Sting vị dâu', 'https://tse1.mm.bing.net/th/id/OIP.Mz4Fpguo-562G-OHRpjxVAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3', 1, '2025-08-14 13:37:06', '2025-11-27 09:33:30'),
(2, '7UP001', '7UP 330ml', 'soft-drink', '', 0.00, 0.00, 94, 40, NULL, 'Nước ngọt 7UP vị chanh', 'https://ik.imagekit.io/pimberly/595e406f0f15f30010780448/tr:w-1000,h-1000,cm-pad_resize/e00c7c6e/5d70c6b06cb2114d580001dc41a8fa17.jpg?product_name=7-Up-Lemon-and-Lime-Carbonated-Canned-Soft-Drink-330ml-(Pack-of-24)-402010.jpg', 1, '2025-08-14 13:37:06', '2025-10-28 03:59:02'),
(3, 'RV001', 'Revive 500ml', 'energy-drink', 'chai', 9000.00, 15000.00, 79, 30, 'Suntory PepsiCo', 'Nước tăng lực Revive', NULL, 1, '2025-08-14 13:37:06', '2025-10-19 04:06:04'),
(4, 'AQ001', 'Aquafina 500ml', 'water', '', 0.00, 0.00, 10, 100, NULL, 'Nước suối tinh khiết Aquafina', NULL, 1, '2025-08-14 13:37:06', '2025-12-04 13:31:01'),
(5, 'CC001', 'Coca Cola 330ml', 'soft-drink', 'lon', 7500.00, 12000.00, 53, 50, 'Coca-Cola Vietnam', 'Nước ngọt Coca Cola', NULL, 1, '2025-08-14 13:37:06', '2025-12-04 13:31:32'),
(6, 'SN001', 'Snack khoai tây Lays 50g', 'snack', 'gói', 12000.00, 20000.00, 29, 20, 'PepsiCo Vietnam', 'Snack khoai tây Lays vị tự nhiên', NULL, 1, '2025-08-14 13:37:06', '2025-10-20 07:00:36');

-- --------------------------------------------------------

--
-- Table structure for table `services`
--

CREATE TABLE `services` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `category` enum('drink','food','equipment') NOT NULL,
  `stock` int(11) DEFAULT 0,
  `image` varchar(255) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `services`
--

INSERT INTO `services` (`id`, `name`, `price`, `category`, `stock`, `image`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'Nước suối', 10000.00, 'drink', 100, NULL, 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(2, 'Coca Cola', 15000.00, 'drink', 50, NULL, 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(3, 'Sting', 15000.00, 'drink', 50, NULL, 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(4, 'Bánh mì', 25000.00, 'food', 20, NULL, 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20'),
(5, 'Áo đấu', 50000.00, 'equipment', 10, NULL, 1, '2025-05-29 09:19:20', '2025-05-29 09:19:20');

-- --------------------------------------------------------

--
-- Table structure for table `stock_transactions`
--

CREATE TABLE `stock_transactions` (
  `id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `type` enum('import','export') NOT NULL,
  `quantity` int(11) NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `total_amount` decimal(10,2) NOT NULL,
  `transaction_date` date NOT NULL,
  `reference` varchar(100) DEFAULT NULL,
  `notes` text DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `stock_transactions`
--

INSERT INTO `stock_transactions` (`id`, `product_id`, `type`, `quantity`, `price`, `total_amount`, `transaction_date`, `reference`, `notes`, `created_by`, `created_at`) VALUES
(1, 3, 'import', 10, 9000.00, 90000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:09'),
(2, 3, 'import', 10, 9000.00, 90000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:09'),
(3, 3, 'import', 10, 9000.00, 90000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:13'),
(4, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:15'),
(5, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:16'),
(6, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:16'),
(7, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:17'),
(8, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:17'),
(9, 3, 'import', 10, 9000.00, 90000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:19'),
(10, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:20'),
(11, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:20'),
(12, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:20'),
(13, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(14, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(15, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(16, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(17, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(18, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(19, 3, 'export', 1, 15000.00, 15000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:21'),
(20, 1, 'export', 1, 12000.00, 12000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:52:41'),
(21, 5, 'import', 10, 7500.00, 75000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:52'),
(22, 5, 'import', 10, 7500.00, 75000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:54'),
(23, 5, 'import', 10, 7500.00, 75000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:54'),
(24, 5, 'import', 10, 7500.00, 75000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 01:52:55'),
(25, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:05'),
(26, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:05'),
(27, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:06'),
(28, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:06'),
(29, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:06'),
(30, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:06'),
(31, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:06'),
(32, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:07'),
(33, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:07'),
(34, 6, 'export', 1, 20000.00, 20000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:07'),
(35, 5, 'export', 1, 12000.00, 12000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:07'),
(36, 5, 'export', 1, 12000.00, 12000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 01:53:07'),
(37, 1, 'import', 10, 8000.00, 80000.00, '2025-08-17', 'Quick import', 'Quick import via admin panel', 1, '2025-08-17 06:28:02'),
(38, 1, 'export', 1, 12000.00, 12000.00, '2025-08-17', 'Quick export', 'Quick export via admin panel', 1, '2025-08-17 06:28:04'),
(39, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 14:59:58'),
(40, 2, 'import', 10, 7000.00, 70000.00, '2025-08-20', 'Quick import', 'Quick import via admin panel', 1, '2025-08-20 15:00:00'),
(41, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:01'),
(42, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:02'),
(43, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:02'),
(44, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:02'),
(45, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:02'),
(46, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:02'),
(47, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:00:03'),
(48, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:09:58'),
(49, 2, 'import', 10, 7000.00, 70000.00, '2025-08-20', 'Quick import', 'Quick import via admin panel', 1, '2025-08-20 15:10:00'),
(50, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(51, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(52, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(53, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(54, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(55, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:02'),
(56, 2, 'export', 1, 10000.00, 10000.00, '2025-08-20', 'Quick export', 'Quick export via admin panel', 1, '2025-08-20 15:10:05'),
(57, 1, 'export', 1, 12000.00, 12000.00, '2025-10-07', 'Quick export', 'Quick export via admin panel', 2, '2025-10-07 14:44:36'),
(58, 3, 'import', 10, 9000.00, 90000.00, '2025-10-19', 'Quick import', 'Quick import via admin panel', 2, '2025-10-19 04:06:03'),
(59, 3, 'export', 1, 15000.00, 15000.00, '2025-10-19', 'Quick export', 'Quick export via admin panel', 2, '2025-10-19 04:06:04'),
(60, 2, 'export', 1, 10000.00, 10000.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:23:24'),
(61, 2, 'import', 10, 7000.00, 70000.00, '2025-10-20', 'Quick import', 'Quick import via admin panel', 2, '2025-10-20 06:23:26'),
(62, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:52'),
(63, 2, 'import', 10, 0.00, 0.00, '2025-10-20', 'Quick import', 'Quick import via admin panel', 2, '2025-10-20 06:59:54'),
(64, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:55'),
(65, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:55'),
(66, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:55'),
(67, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(68, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(69, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(70, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(71, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(72, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:56'),
(73, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:57'),
(74, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:57'),
(75, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:58'),
(76, 2, 'export', 1, 0.00, 0.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 06:59:58'),
(77, 6, 'import', 10, 12000.00, 120000.00, '2025-10-20', 'Quick import', 'Quick import via admin panel', 2, '2025-10-20 07:00:28'),
(78, 6, 'export', 1, 20000.00, 20000.00, '2025-10-20', 'Quick export', 'Quick export via admin panel', 2, '2025-10-20 07:00:36'),
(79, 4, 'import', 10, 0.00, 0.00, '2025-10-21', 'Quick import', 'Quick import via admin panel', 2, '2025-10-21 03:23:01'),
(80, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:31:55'),
(81, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:31:57'),
(82, 1, 'import', 10, 0.00, 0.00, '2025-11-27', 'Quick import', 'Quick import via admin panel', 1, '2025-11-27 09:32:44'),
(83, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:45'),
(84, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:45'),
(85, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:45'),
(86, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:45'),
(87, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:45'),
(88, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(89, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(90, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(91, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(92, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(93, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:46'),
(94, 1, 'export', 1, 0.00, 0.00, '2025-11-27', 'Quick export', 'Quick export via admin panel', 1, '2025-11-27 09:32:47'),
(95, 4, 'import', 10, 0.00, 0.00, '2025-12-04', 'Quick import', 'Quick import via admin panel', 1, '2025-12-04 13:29:42'),
(96, 4, 'import', 10, 0.00, 0.00, '2025-12-04', 'Quick import', 'Quick import via admin panel', 1, '2025-12-04 13:29:46'),
(97, 4, 'import', 10, 0.00, 0.00, '2025-12-04', 'Quick import', 'Quick import via admin panel', 1, '2025-12-04 13:29:47'),
(98, 4, 'import', 10, 0.00, 0.00, '2025-12-04', 'Quick import', 'Quick import via admin panel', 1, '2025-12-04 13:29:48'),
(99, 4, 'import', 10, 0.00, 0.00, '2025-12-04', 'Quick import', 'Quick import via admin panel', 1, '2025-12-04 13:30:07');

-- --------------------------------------------------------

--
-- Table structure for table `team_join_posts`
--

CREATE TABLE `team_join_posts` (
  `id` int(11) NOT NULL,
  `match_date` date NOT NULL,
  `start_time` time NOT NULL,
  `field_type` enum('5vs5','7vs7','11vs11') NOT NULL,
  `level` enum('beginner','intermediate','advanced','pro') DEFAULT 'intermediate',
  `players_needed` int(11) NOT NULL DEFAULT 1,
  `position_needed` enum('goalkeeper','defender','midfielder','forward','any') DEFAULT 'any',
  `description` text DEFAULT NULL,
  `contact_name` varchar(100) NOT NULL,
  `contact_phone` varchar(15) NOT NULL,
  `status` enum('open','closed') DEFAULT 'open',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `team_join_posts`
--

INSERT INTO `team_join_posts` (`id`, `match_date`, `start_time`, `field_type`, `level`, `players_needed`, `position_needed`, `description`, `contact_name`, `contact_phone`, `status`, `created_at`) VALUES
(1, '2025-08-03', '06:00:00', '7vs7', 'intermediate', 3, 'any', 'vui vẻ thôi ní', 'Nhật', '0369706275', 'open', '2025-08-02 04:48:26'),
(2, '2025-08-10', '06:00:00', '5vs5', 'intermediate', 1, 'goalkeeper', '', 'Nhật', '0369706275', 'open', '2025-08-09 03:26:38'),
(3, '2025-08-18', '20:30:00', '11vs11', 'advanced', 2, 'midfielder', '', 'Nhật', '0369706275', 'open', '2025-08-15 02:54:45'),
(4, '2025-08-20', '06:00:00', '5vs5', 'intermediate', 1, 'any', '', 'Tam', '0123456788', 'open', '2025-08-16 17:00:06'),
(5, '2025-08-17', '20:00:00', '5vs5', 'intermediate', 1, 'any', '', 'Tam', '0123456788', 'open', '2025-08-17 08:23:38'),
(6, '2025-08-24', '06:00:00', '7vs7', 'beginner', 2, 'any', '', 'Tam', '0123456788', 'closed', '2025-08-20 14:30:44'),
(7, '2025-08-22', '06:30:00', '5vs5', 'intermediate', 2, 'goalkeeper', '', 'Tam', '0123456788', 'closed', '2025-08-20 15:56:10'),
(9, '2025-09-30', '06:00:00', '5vs5', 'intermediate', 1, 'any', '', 'Thanh Tam', '0385868251', 'closed', '2025-09-20 14:48:46'),
(10, '2025-09-28', '06:00:00', '11vs11', 'advanced', 1, 'forward', '', 'Thanh Tam', '0385868251', 'closed', '2025-09-28 13:10:26'),
(12, '2025-09-28', '21:00:00', '5vs5', 'intermediate', 1, 'any', '', 'Thanh Tam', '0385868251', 'closed', '2025-09-28 13:23:15'),
(13, '2025-10-31', '06:00:00', '5vs5', 'intermediate', 1, 'any', '', 'Thanh Tam', '0385868251', 'closed', '2025-10-18 04:44:23'),
(14, '2025-11-17', '06:30:00', '5vs5', 'intermediate', 1, 'any', '', 'Thanh Tam', '0385868251', 'closed', '2025-11-17 15:12:55'),
(15, '2025-12-15', '06:00:00', '7vs7', 'beginner', 4, 'any', 'nội bộ vui vẻ sức khỏe là chính', 'Tam Thanh', '0979993920', 'closed', '2025-11-20 09:25:44'),
(16, '2026-01-15', '06:00:00', '11vs11', 'intermediate', 5, 'any', 'Cần người đá nội bộ vui vẻ, trình độ tập chơi sân 11', 'Tam Thanh', '0979993920', 'closed', '2025-11-26 04:12:20'),
(17, '2026-01-11', '07:00:00', '5vs5', 'pro', 1, 'goalkeeper', 'Cần thủ môn xịn để giao lưu kèo căng', 'Tam Thanh', '0868713558', 'closed', '2025-11-26 04:13:50'),
(18, '2025-11-28', '06:00:00', '5vs5', 'pro', 1, 'goalkeeper', '', 'Thanh Tam', '0385868251', 'closed', '2025-11-28 08:01:54');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `phone_number` varchar(15) NOT NULL,
  `name` varchar(100) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `role` enum('customer','admin') DEFAULT 'customer',
  `is_active` tinyint(1) DEFAULT 1,
  `total_bookings` int(11) DEFAULT 0,
  `cancelled_bookings` int(11) DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `phone_number`, `name`, `email`, `role`, `is_active`, `total_bookings`, `cancelled_bookings`, `created_at`, `updated_at`) VALUES
(1, '0868713558', 'Admin', 'adminthanhtam@bookstore.com.vn', 'admin', 1, 0, 0, '2025-05-29 09:19:20', '2025-07-25 15:12:33'),
(13, '0385868251', 'Thanh Tam', '2200000922@nttu.edu.vn', 'customer', 1, 0, 0, '2025-08-08 04:44:18', '2025-11-12 08:23:48'),
(23, '0246813579', 'Lê Văn Luyện', 'vanducle308@gmail.com', 'customer', 0, 0, 0, '2025-08-09 03:21:37', '2025-10-19 07:14:37'),
(24, '0987654321', 'a long', NULL, 'customer', 1, 0, 0, '2025-08-20 14:45:33', '2025-10-20 07:42:59'),
(33, '1234567899', 'aa', NULL, 'customer', 0, 0, 0, '2025-10-21 05:41:38', '2025-10-28 08:06:11'),
(35, '0979993920', 'Tam Thanh', 'nguyenthanhtam10062004@gmail.com', 'customer', 1, 0, 0, '2025-11-12 06:47:30', '2025-11-17 10:22:47');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admins`
--
ALTER TABLE `admins`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `idx_admins_email` (`email`),
  ADD KEY `idx_admins_active` (`is_active`);

--
-- Indexes for table `admin_sessions`
--
ALTER TABLE `admin_sessions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `admin_id` (`admin_id`),
  ADD KEY `idx_session_token` (`session_token`),
  ADD KEY `idx_expires_at` (`expires_at`);

--
-- Indexes for table `bookings`
--
ALTER TABLE `bookings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_booking` (`field_id`,`booking_date`,`time_slot_id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `time_slot_id` (`time_slot_id`),
  ADD KEY `idx_bookings_date` (`booking_date`),
  ADD KEY `idx_bookings_status` (`status`);

--
-- Indexes for table `booking_services`
--
ALTER TABLE `booking_services`
  ADD PRIMARY KEY (`id`),
  ADD KEY `booking_id` (`booking_id`),
  ADD KEY `service_id` (`service_id`);

--
-- Indexes for table `fields`
--
ALTER TABLE `fields`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `maintenance_schedules`
--
ALTER TABLE `maintenance_schedules`
  ADD PRIMARY KEY (`id`),
  ADD KEY `maintenance_schedules_ibfk_1` (`field_id`);

--
-- Indexes for table `matches`
--
ALTER TABLE `matches`
  ADD PRIMARY KEY (`id`),
  ADD KEY `creator_id` (`creator_id`),
  ADD KEY `field_id` (`field_id`),
  ADD KEY `idx_matches_date` (`match_date`),
  ADD KEY `idx_matches_status` (`status`);

--
-- Indexes for table `otps`
--
ALTER TABLE `otps`
  ADD PRIMARY KEY (`email`);

--
-- Indexes for table `otp_codes`
--
ALTER TABLE `otp_codes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_otp_phone` (`phone_number`);

--
-- Indexes for table `pricing_rules`
--
ALTER TABLE `pricing_rules`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `products`
--
ALTER TABLE `products`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`),
  ADD KEY `idx_products_category` (`category`),
  ADD KEY `idx_products_active` (`is_active`);

--
-- Indexes for table `services`
--
ALTER TABLE `services`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `stock_transactions`
--
ALTER TABLE `stock_transactions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `idx_transactions_date` (`transaction_date`),
  ADD KEY `idx_transactions_type` (`type`),
  ADD KEY `created_by` (`created_by`);

--
-- Indexes for table `team_join_posts`
--
ALTER TABLE `team_join_posts`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `phone_number` (`phone_number`),
  ADD KEY `idx_users_phone` (`phone_number`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admins`
--
ALTER TABLE `admins`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `admin_sessions`
--
ALTER TABLE `admin_sessions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=82;

--
-- AUTO_INCREMENT for table `bookings`
--
ALTER TABLE `bookings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=74;

--
-- AUTO_INCREMENT for table `booking_services`
--
ALTER TABLE `booking_services`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `fields`
--
ALTER TABLE `fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `maintenance_schedules`
--
ALTER TABLE `maintenance_schedules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT for table `matches`
--
ALTER TABLE `matches`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT for table `otp_codes`
--
ALTER TABLE `otp_codes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=148;

--
-- AUTO_INCREMENT for table `pricing_rules`
--
ALTER TABLE `pricing_rules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `products`
--
ALTER TABLE `products`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `services`
--
ALTER TABLE `services`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `stock_transactions`
--
ALTER TABLE `stock_transactions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=100;

--
-- AUTO_INCREMENT for table `team_join_posts`
--
ALTER TABLE `team_join_posts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=36;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `admin_sessions`
--
ALTER TABLE `admin_sessions`
  ADD CONSTRAINT `admin_sessions_ibfk_1` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `bookings`
--
ALTER TABLE `bookings`
  ADD CONSTRAINT `bookings_ibfk_2` FOREIGN KEY (`field_id`) REFERENCES `fields` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `booking_services`
--
ALTER TABLE `booking_services`
  ADD CONSTRAINT `booking_services_ibfk_1` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `booking_services_ibfk_2` FOREIGN KEY (`service_id`) REFERENCES `services` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `maintenance_schedules`
--
ALTER TABLE `maintenance_schedules`
  ADD CONSTRAINT `maintenance_schedules_ibfk_1` FOREIGN KEY (`field_id`) REFERENCES `fields` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `matches`
--
ALTER TABLE `matches`
  ADD CONSTRAINT `matches_ibfk_1` FOREIGN KEY (`creator_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `matches_ibfk_2` FOREIGN KEY (`field_id`) REFERENCES `fields` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `stock_transactions`
--
ALTER TABLE `stock_transactions`
  ADD CONSTRAINT `stock_transactions_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `stock_transactions_ibfk_2` FOREIGN KEY (`created_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
